PREFIX rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>
PREFIX fd:     <http://w3id.org/hefquin/feddesc#>
PREFIX rml:    <http://w3id.org/rml/>
PREFIX ex:     <http://example.org/>
PREFIX hydra:  <http://www.w3.org/ns/hydra/core#>


ex:dbpediaSPARQL
      fd:serviceURI <http://dbpedia.org/sparql> ;
      fd:interface [ a                  fd:SPARQLEndpointInterface ;
                     fd:endpointAddress <http://dbpedia.org/sparql> ] .

ex:dbpediaTPF
      fd:serviceURI <http://fragments.dbpedia.org/2016-04/en> ;
      fd:interface [ a                         fd:TPFInterface ;
                     fd:exampleFragmentAddress <http://fragments.dbpedia.org/2016-04/en> ] .

ex:wikidataSPARQL
      fd:serviceURI <https://query.wikidata.org/sparql> ;
      fd:interface [ a                  fd:SPARQLEndpointInterface ;
                     fd:endpointAddress <https://query.wikidata.org/sparql> ] .

ex:europaSPARQL
      fd:serviceURI <https://data.europa.eu/sparql> ;
      fd:interface [ a                  fd:SPARQLEndpointInterface ;
                     fd:endpointAddress <https://data.europa.eu/sparql> ] .

ex:openMeteo
      fd:serviceURI <https://api.open-meteo.com/v1/forecast> ;
      fd:interface [
          a fd:RESTInterface ;
          fd:iriTemplate [
            hydra:template "https://api.open-meteo.com/v1/forecast{?latitude,longitude,current}" ;
            hydra:mapping 
                  [ 
                  hydra:variable "latitude" ;      
                  hydra:required true ;
                  fd:paramType xsd:float ] ,
                  [ 
                  hydra:variable "longitude" ; 
                  hydra:required true ;
                  fd:paramType xsd:float ] ,
                  [ 
                  hydra:variable "current" ;
                  fd:paramType xsd:string ]
          ]
      ] ;
      fd:wrapper [
          fd:rmlTriplesMaps ( 
              [ rml:logicalSource [ rml:source _:openMeteoRestEndpoint ;
                                    rml:referenceFormulation rml:JSONPath ;
                                    rml:iterator "$.current" ] ;
                rml:subjectMap [ rml:termType rml:BlankNode ;
                                 rml:reference "time" ];
                rml:predicateObjectMap [ rml:predicateMap [ rml:constant ex:temperature ] ;
                                         rml:objectMap [ rml:reference "temperature_2m" ; rml:datatype xsd:double ] ] ]
              [ rml:logicalSource [ rml:source _:openMeteoRestEndpoint ;
                                    rml:referenceFormulation rml:JSONPath ;
                                    rml:iterator "$.current" ] ;
                rml:subjectMap [ rml:termType rml:BlankNode ;
                                 rml:reference "time" ];
                rml:predicateObjectMap [ rml:predicateMap [ rml:constant ex:windSpeed ] ;
                                         rml:objectMap [ rml:reference "wind_speed_10m" ; rml:datatype xsd:double ] ] ]
          )
      ] .

#ex:neo4jTest
#      a            fd:FederationMember ;
#      fd:interface [ a                  fd:BoltInterface ;
#                     fd:endpointAddress <http://localhost:7474/db/neo4j/tx> ;
#                     fd:mappingConfiguration  [ a fd:LPGToRDFConfiguration ;
#                                                # ...
#                                              ]
#                   ] .

#ex:graphqlTest
#      a            fd:FederationMember ;
#      fd:interface [ a                  fd:GraphQLEndpointInterface ;
#                     fd:endpointAddress <http://localhost:4000/graphql> ;
#                     fd:mappingConfiguration  [ a fd:GraphQLToRDFConfiguration ;
#                                                # ...
#                                              ]
#                   ] .

#ex:dbpediaSPARQLWithVocabMappings
#      a            fd:FederationMember ;
#      fd:interface [ a                  fd:SPARQLEndpointInterface ;
#                     fd:endpointAddress <http://dbpedia.org/sparql> ] ;
#      fd:vocabularyMappingsFile "dbpedia/vocabularyMappings.nt" .

#ex:wikidataSPARQLWithVocabMappings
#      a            fd:FederationMember ;
#      fd:interface [ a                  fd:SPARQLEndpointInterface ;
#                     fd:endpointAddress <https://query.wikidata.org/sparql> ];
#                     fd:vocabularyMappingsFile "wikidata/vocabularyMappings.nt" .
